"use strict";(self.webpackChunktse_dev_api=self.webpackChunktse_dev_api||[]).push([[20330],{67015:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"support/examples","title":"Esempi d\'uso","description":"Examples use","source":"@site/i18n/it/docusaurus-plugin-content-docs/version-1.0.1/support/examples.md","sourceDirName":"support","slug":"/support/examples-apis","permalink":"/develop/it/docs/support/examples-apis","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-1.0.1/support/examples.md","tags":[{"inline":true,"label":"general knowledge","permalink":"/develop/it/docs/tags/general-knowledge"},{"inline":true,"label":"beginner","permalink":"/develop/it/docs/tags/beginner"},{"inline":true,"label":"concepts","permalink":"/develop/it/docs/tags/concepts"},{"inline":true,"label":"rest","permalink":"/develop/it/docs/tags/rest"}],"version":"1.0.1","lastUpdatedAt":1737373204000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Esempi d\'uso","slug":"examples-apis","description":"Examples use","tags":["general knowledge","beginner","concepts","rest"]},"sidebar":"tutorialSidebar","previous":{"title":"Cronologia Rilasci *","permalink":"/develop/it/docs/support/change-log"},"next":{"title":"General Knowledge","permalink":"/develop/it/docs/support/general-knowledge/"}}');var o=n(74848),r=n(28453);const a={sidebar_position:6,title:"Esempi d'uso",slug:"examples-apis",description:"Examples use",tags:["general knowledge","beginner","concepts","rest"]},s="Documentazione a supporto degli scenari di utilizzo",l={},c=[{value:"Integration examples Postman",id:"integration-examples-postman",level:2},{value:"Integration Examples for Master Data",id:"integration-examples-for-master-data",level:2},{value:"Documenti",id:"documenti",level:2},{value:"Price Priority",id:"price-priority",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Example",id:"example",level:3},{value:"Gestione Kit",id:"gestione-kit",level:3}];function d(e){const i={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"documentazione-a-supporto-degli-scenari-di-utilizzo",children:"Documentazione a supporto degli scenari di utilizzo"})}),"\n",(0,o.jsx)(i.h2,{id:"integration-examples-postman",children:"Integration examples Postman"}),"\n",(0,o.jsx)(i.p,{children:"Within the various scenarios, JSON collections (Integration examples) containing usage examples of what is referred to in the Authentication Model section are made available. Specifically, it will be necessary to proceed with the execution of the authentication request in order to retrieve the JWT token (available in each example)."}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Auth Token"}),": requests the JWT token. Note that both the technical key assigned to the system and any verification."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Test Token"}),": performs an application call that uses the JWT token."]}),"\n"]}),"\n",(0,o.jsx)(i.admonition,{title:"Environment Usage",type:"info",children:(0,o.jsxs)(i.p,{children:["The collections require the use of variables defined in the ",(0,o.jsx)(i.code,{children:"ENV_TSE.postman_environment"})," environment, available at the following link."]})}),"\n",(0,o.jsx)(i.admonition,{title:"Note",type:"danger",children:(0,o.jsx)(i.p,{children:"Although the use of services allows for implementations different from those specified, please note that the supported functionalities are those described in the examples and in the API Reference."})}),"\n",(0,o.jsx)(i.h2,{id:"integration-examples-for-master-data",children:"Integration Examples for Master Data"}),"\n",(0,o.jsx)(i.p,{children:"The collection contains examples of GET/SEARCH/CREATE methods for the exposed resources."}),"\n",(0,o.jsx)(i.h2,{id:"documenti",children:"Documenti"}),"\n",(0,o.jsx)(i.p,{children:'La risorsa "Documento" pu\xf2 essere utilizzata per inserire / eliminare / modificare un documento in TSE.\nAnche se la stessa risorsa \xe8 utilizzabile per l\'inserimento di un qualsiasi tipo di documento.'}),"\n",(0,o.jsx)(i.p,{children:"L'inserimento di un documento pu\xf2 avvenire in modo sincrono con il metodo POST."}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"N.B."})," Affinch\xe9 le informazioni passate alla WebAPI documenti con il relativo DTO siano effettivamente recepite e memorizzate \xe8 necessario che il wizard del codice documento utilizzato le gestisca sull'interfaccia utente.\nE' opportuno quindi in fase di progettazione della soluzione effettuare sempre un doppio check per assicurarsi che un documento inserito da interfaccia utente con le medesime informazioni che vengono passate via WebAPI sia correttamente inserito."]}),"\n",(0,o.jsx)(i.p,{children:"Si tenga presente che per inserire un documento non \xe8 necessario valorizzare tutte le propriet\xe0 del complesso DTO che lo rappresenta."}),"\n",(0,o.jsx)(i.p,{children:"L'inserimento minimale del documento avviene infatti indicando:"}),"\n",(0,o.jsx)(i.p,{children:'"ditta" (il codice della ditta di lavoro)\n"anagraficaDocumentoDitta": propriet\xe0 di tipo CompanyDocumentMasterDataMGDTO che rappresenta il codice del documento da utilizzare per l\'inserimento dell\'ordine.\nSu TSE ciascun documento fa riferimento ad un codice documento preventivamente attivato per l\'azienda di lavoro.\nPer poter inserire quindi un documento \xe8 obbligatorio indicare il codice del documento da utilizzare, codice a cui sono associati comportamenti e parametrizzazioni con le relative funzionalit\xe0 del gestionale (Personalizzazione documenti / Personalizzazione documenti azienda).\nQuindi ad esempio un possibile valore della propriet\xe0 anagraficaDocumentoDitta potrebbe essere:'}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n        "dittaCg18": 100,\n        "codDocumMg36": "C-ORDINE",\n        "indStaperMg36": 1\n}\n'})}),"\n",(0,o.jsx)(i.p,{children:'a richiedere l\'inserimento di un documento personalizzato (indStaperMg36 = 1, per i codici documento standard passare 0) con codice "C-ORDINE" attivato sulla ditta 100.'}),"\n",(0,o.jsx)(i.p,{children:'"customerSupplierMG": propriet\xe0 di tipo CustomerSupplierMGDTO che rappresenta il cliente o il fornitore a cui viene intestato il documento.\nQuindi ad esempio, lavorando sulla ditta 100, per intestare il documento al cliente con codice 123 \xe8 necessario valorizzare la propriet\xe0 customerSupplierMG in questo modo:'}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n        "dittaCg18": 100,\n        "tipocfCg40": 0.0,\n        "clifor": 123\n}\n'})}),"\n",(0,o.jsx)(i.p,{children:"Si noti che clifor \xe8 il codice del cliente (o del fornitore per documenti di tipo fornitore) e non il suo ID sulla tabella CG44_CLIFOR.\nSi ricorda infine che l'indicatore tipocfCg40 deve essere valorizzato con i possibili valori del campo CG44_TIPOCF della tabella CG44_CLIFOR che sono:"}),"\n",(0,o.jsx)(i.p,{children:'0 per i clienti\n1 per i fornitori\n"sezdoc": il sezionale della numerazione del documento (es. "sezdoc": "00")\n"storageWH": propriet\xe0 di tipo StorageWHDTO che rappresenta il deposito da movimentare.\nQuindi ad esempio, lavorando sulla ditta 100, per ordinare la merce sul deposito "00", sar\xe0 necessario valorizzare la propriet\xe0 storageWH in questo modo:'}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n        "dittaCg18": 100,\n        "codDep": "00"\n}\n'})}),"\n",(0,o.jsx)(i.p,{children:'"righe": l\'array delle righe da inserire nel documento; \xe8 un array di oggetti di tipo DocumentoRigaMGDTO.\nLe righe attualmente gestite sono quelle di tipo articolo / articolo manuale, descrittiva e spesa varia.'}),"\n",(0,o.jsx)(i.p,{children:"Righe di tipo articolo: occorre almeno indicare ditta, progressivo riga, articolo, descrizione e quantit\xe0 (l'indtiporiga prende il valore zero di default), come nel seguente esempio:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n        "ditta": 100,\n        "progrRiga": 1.0,\n        "codartMg66": "ART001",\n        "descart": "Descrizione articolo ART001",\n        "qta1": 1.000\n}\n'})}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.em,{children:"NOTA BENE"}),": Nel caso in cui si inseriscano righe documento di tipo articolo e un codice articolo preveda l'esplosione automatica di righe aggiuntive, il progrRiga \xe8 ricalcolato in automatico dalla procedura."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Tipologie di riga gestite"}),"\nE' possibile inserire nel corpo del documento le seguenti tipologie di righe:"]}),"\n",(0,o.jsx)(i.p,{children:"Articolo (indtiporiga = 0)\nArticolo manuale (indtiporiga = 1)\nDescrittiva (indtiporiga = 2)\nSpesa (indtiporiga = 4)\nTesto Fisso (indtiporiga = 6)\nNodo (indtiporiga = 15)\nAttivit\xe0 (indtiporiga = 16)\nSpesa di progetto (indtiporiga = 17)\nLe altre tipologie utilizzabili dall'interfaccia di emissione diretta documenti non sono supportate."}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Propriet\xe0 callOptions"}),"\nLa propriet\xe0 callOptions consente di raggruppare tutte le opzioni/parametri di chiamata che non sono dei veri campi dell\u2019entit\xe0."]}),"\n",(0,o.jsx)(i.p,{children:"Attualmente sono disponibili le seguenti opzioni:\nflgSpbolliForceZero (default false): impostare a true se si vuole forzare il valore = 0 del flag spese bolli;\nflgSpincasForceZero (default false): impostare a true se si vuole forzare il valore = 0 del flag spese incassi;\nesclusioneAgentiMultipli (default false): impostare a true per escludere il caricamento degli agenti multipli in testata;\nesclusioneIvaTestata (default false): impostare a true per forzare Null il codice Iva di testata del documento;\nflgLockOnDocExist (default false): impostare a true per bloccare l'inserimento di un documento gi\xe0 esistente;\ndisableLetterOfIntent (default false): impostare a true per disattivare le lettere di intento;\nesclusioneSpeseTestiCliFor (default false): impostare a true per escludere la proposta delle righe spese e testi fissi di default del Cliente."}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"ATTENZIONE:"}),' i parametri "esclusioneAgentiMultipli","esclusioneIvaTestata", "flgLockOnDocExist" gi\xe0 presenti nell\'entit\xe0 testata documento rimangono per garantire la compatibilit\xe0 con le versioni precedenti; si consiglia di non utilizzarli in quanto sono stati deprecati, nello swagger viene usato l\u2019attributo [Obsolete].']}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.img,{alt:"alt text",src:n(21579).A+"",width:"671",height:"273"})," ",(0,o.jsx)(i.em,{children:"immagine da allegare"})]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Recupero dei prezzi in inserimento delle righe"}),"\nSe i prezzi e gli sconti degli articoli di magazzino inseriti nel corpo del documento vengono passati con valore zero, allora la logica di business li valorizza in base alla configurazione del recupero prezzo impostata sulla parametrizzazione del codice documento utilizzato."]}),"\n",(0,o.jsx)(i.p,{children:"Per quanto riguarda gli scenari dei Documenti, vengono resi disponibili direttamente all'interno della chiamata POST (Create) del modulo IntegrationMG\\Documento dello swagger alcuni esempi:"}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.em,{children:"Inserire immagine swagger"})}),"\n",(0,o.jsx)(i.p,{children:"Tramite il Try it out sar\xe0 possibile eseguire automaticamente la chiamata, sostituendo i segnaposti indicati negli esempi con i relativi dati opportuni."}),"\n",(0,o.jsx)(i.p,{children:"Esempi disponibili:"}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.em,{children:"Default (complete)"}),": riporta il body completo di chiamata;\n",(0,o.jsx)(i.em,{children:"Min required"}),": Informazioni minimali obbligatorie di testata;\n",(0,o.jsx)(i.em,{children:"Order"}),": esempio di body di un documento di tipo Ordine;\n",(0,o.jsx)(i.em,{children:"Delivery Note"}),": esempio di body di un documento di tipo bolla;\n",(0,o.jsx)(i.em,{children:"Invoice"}),": esempio di body di un documento di tipo fattura;\n",(0,o.jsx)(i.em,{children:"Transfer warehouses"}),": esempio di body di un documento trasferimento tra depositi."]}),"\n",(0,o.jsx)(i.h2,{id:"price-priority",children:"Price Priority"}),"\n",(0,o.jsx)(i.p,{children:"Price search from priority price lists through new PricePriorityLI service"}),"\n",(0,o.jsx)(i.p,{children:'The attached example shows the price of priority price lists processed based on the set priority table, used to generate the PricePriorityLI and displayed in the Result ("RowElaboratePriceList"), if the parameter "ResultElaboratePriceList" = true is set.'}),"\n",(0,o.jsx)(i.h3,{id:"parameters",children:"Parameters"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Price Type (typeSalePurchaseProd)"}),": ",(0,o.jsx)(i.code,{children:"Decimal"})," (DO11_TIPOCF_CG44/2)",(0,o.jsx)(i.br,{}),"\n","0 = Sales (default)",(0,o.jsx)(i.br,{}),"\n","1 = Purchases",(0,o.jsx)(i.br,{}),"\n","2 = Production"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Article Code (CodartMg66)"}),": ",(0,o.jsx)(i.code,{children:"String"})," (DO30_CODART_MG66) \u2014 mandatory"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Customer/Supplier Code"}),": ",(0,o.jsx)(i.code,{children:"Decimal"})," (DO11_CLIFOR_CG44)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Registration Date"}),": ",(0,o.jsx)(i.code,{children:"Datetime"})," (DateElab) \u2014 mandatory"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Quantity 1 (line) (qty1)"}),": ",(0,o.jsx)(i.code,{children:"Decimal"})," (DO30_QTA1)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Price List Number (numPriceList)"}),": ",(0,o.jsx)(i.code,{children:"Decimal"})," (DO11_LISTMAG)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Warehouse Code (codDepMg58)"}),": ",(0,o.jsx)(i.code,{children:"String"})," (DO30_CODDEP_MG58)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Enable display of processed prices list (resultElaboratePriceList)"}),": if set = ",(0,o.jsx)(i.code,{children:"true"})]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example",children:"Example"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n  "typeSalePurchaseProd": 0,\n  "codArtMg66": "ART_LI",\n  "cliforCg44": 1,\n  "dateElab": "2024-06-14 00:00:00",\n  "qty1": 0,\n  "numPriceList": 1,\n  "codDepMg58": "00",\n  "resultElaboratePriceList": true\n}\n'})}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Recupero dei prezzi in inserimento delle righe da listini parametrici: servizio PriceParametricLI"}),"\nNuovo servizio PriceParametricLI (POST) per individuare il prezzo in base ai listini parametrici partendo dal codice priorit\xe0 impostato in tabella (\u201ctabella priorit\xe0\u201d)."]}),"\n",(0,o.jsx)(i.p,{children:'Questo nuovo servizio richiede i Parametri "PriceParametricParameters" e richiama la store Procedure SPLP_QUOTPROBELIST per ritornare il prezzo corrente con eventuali sconti  in "PriceParametricLI".'}),"\n",(0,o.jsx)(i.p,{children:"Viene previsto anche un parametro per richiedere il dettaglio dell\u2019esito dell\u2019elaborazione dei listini parametrici che permette di capire come si \xe8 formato il prezzo in base alla tabella priorit\xe0 e ai provider utilizzati."}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.a,{href:"https://ts-enterprise-dev.ts-paas.com/link/8#bkmrk-attenzione%3A-attualme",children:"https://ts-enterprise-dev.ts-paas.com/link/8#bkmrk-attenzione%3A-attualme"})}),"\n",(0,o.jsx)(i.p,{children:"ATTENZIONE: Attualmente la store procedure gestisce anche le condizioni commerciali e le provvigioni per piede documento che in questa prima fase non sono gestite, (viene passato alla store procedure il parametro fisso  @RIGA_PIEDE=0)."}),"\n",(0,o.jsx)(i.h3,{id:"gestione-kit",children:"Gestione Kit"}),"\n",(0,o.jsx)(i.p,{children:"E' possibile ricercare, inserire, modificare e cancellare un kit e di conseguenza utilizzarlo all\u2019interno dei documenti opportunamente configurati (Parametri Generali documenti-Personalizzazione) con relativa esplosione dei componenti nelle righe documento."}),"\n",(0,o.jsx)(i.p,{children:"Utilizzando l'entit\xe0 Master KitWH e Detail KitLinkWH \xe8 possibile creare kit semplici, definendo solo articolo e quantit\xe0"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n    "codProductMg66": "BICI",\n    "dittaCg18": {{azienda}},\n    "exclusionChild1Mg82": null,\n    "exclusionChild2Mg82": null,\n    "exclusionChild3Mg82": null,\n    "exclusionChild4Mg82": null,\n    "exclusionFather1Mg82": "OR",\n    "exclusionFather2Mg82": "BO",\n    "exclusionFather3Mg82": "FA",\n    "exclusionFather4Mg82": "PR",\n    "optionProductMg5e": "",\n    "kitLinkWH": [\n        {\n            "codComponentMg66": "BICI2",\n            "optionComponentMg5e": "",\n            "qtyComponent1": 10.000000\n        },\n        {\n            "codComponentMg66": "MSE003",\n            "qtyComponent1": 15.000000\n        }\n    ]\n}\n'})}),"\n",(0,o.jsx)(i.p,{children:"o completi, dove \xe8 possibile valorizzare ulteriori propriet\xe0:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n    "codProductMg66": "MSE002",\n    "dittaCg18": {{azienda}},\n    "exclusionChild1Mg82": null,\n    "exclusionChild2Mg82": "BO",\n    "exclusionChild3Mg82": "PR",\n    "exclusionChild4Mg82": null,\n    "exclusionFather1Mg82": "OR",\n    "exclusionFather2Mg82": "BO",\n    "exclusionFather3Mg82": "FA",\n    "exclusionFather4Mg82": "PR",\n    "optionProductMg5e": "",\n    "kitLinkWH": [\n        {\n            "codComponentMg66": "BICI2",\n            "optionComponentMg5e": "",\n            "StartingDate": "2024-01-15T00:00:00",\n            "endingDate": "2024-12-31T00:00:00",\n            "qtyComponent1": 13.000000,\n            "qtyComponent2": 10.000000,\n            "fixedQta": 1,\n            "typeBomLink": 3,\n            "typeOptionalLink": 1,\n            "typeVal": 2,\n            "costComponent": 10.0000\n        },\n        {\n            "codComponentMg66": "BICI",\n            "optionComponentMg5e": "",\n            "StartingDate": "2024-01-15T00:00:00",\n            "edningDate": "2024-06-31T00:00:00",\n            "qtyComponent1": 25.000000,\n            "qtyComponent2": 33.000000,\n            "fixedQta": 1,\n            "typeBomLink": 3,\n            "typeOptionalLink": 0,\n            "typeVal": 3,\n            "costComponent": 150.0000\n        }\n    ]\n}\n'})})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},21579:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/image-3ca1f4609feeab2312d91b9b4bc21c59.png"},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>s});var t=n(96540);const o={},r=t.createContext(o);function a(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);