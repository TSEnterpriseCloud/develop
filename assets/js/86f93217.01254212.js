"use strict";(self.webpackChunktse_dev_api=self.webpackChunktse_dev_api||[]).push([[45705],{87306:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"support/examples","title":"Usage Examples *","description":"Examples use","source":"@site/versioned_docs/version-1.0.1/support/examples.md","sourceDirName":"support","slug":"/support/examples-apis","permalink":"/docs/support/examples-apis","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"general knowledge","permalink":"/docs/tags/general-knowledge"},{"inline":true,"label":"beginner","permalink":"/docs/tags/beginner"},{"inline":true,"label":"concepts","permalink":"/docs/tags/concepts"},{"inline":true,"label":"rest","permalink":"/docs/tags/rest"}],"version":"1.0.1","lastUpdatedAt":1740734489000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Usage Examples *","slug":"examples-apis","description":"Examples use","tags":["general knowledge","beginner","concepts","rest"]},"sidebar":"tutorialSidebar","previous":{"title":"Release History *","permalink":"/docs/support/change-log"},"next":{"title":"General Knowledge","permalink":"/docs/support/general-knowledge/"}}');var t=n(74848),a=n(28453);const r={sidebar_position:6,title:"Usage Examples *",slug:"examples-apis",description:"Examples use",tags:["general knowledge","beginner","concepts","rest"]},s=void 0,l={},d=[{value:"Documentation to Support Usage Scenarios",id:"documentation-to-support-usage-scenarios",level:3},{value:"Minimal Insertion of General Master Data",id:"minimal-insertion-of-general-master-data",level:2},{value:"Minimal Insertion of a Customer/Supplier",id:"minimal-insertion-of-a-customersupplier",level:2},{value:"Search for a Customer/Supplier by Tax Code and/or VAT Number",id:"search-for-a-customersupplier-by-tax-code-andor-vat-number",level:2},{value:"Minimal Insertion of an Item Code",id:"minimal-insertion-of-an-item-code",level:2},{value:"Documents",id:"documents",level:2},{value:"Ricerca prezzi da Listini parametrici",id:"ricerca-prezzi-da-listini-parametrici",level:2},{value:"Servizio Print documenti: generazione stampa documento su pdf",id:"servizio-print-documenti-generazione-stampa-documento-su-pdf",level:2},{value:"Gestione Kit",id:"gestione-kit",level:2},{value:"Inserimento Documento con Codice Articolo di Tipo Kit",id:"inserimento-documento-con-codice-articolo-di-tipo-kit",level:2},{value:"Esempio",id:"esempio",level:3},{value:"Documento di trasferimento tra depositi",id:"documento-di-trasferimento-tra-depositi",level:2},{value:"Document Service",id:"document-service",level:2},{value:"Trasformazione Documenti 1 a 1 e verifica Stato Evasione",id:"trasformazione-documenti-1-a-1-e-verifica-stato-evasione",level:2},{value:"Verifica Stato Evasione",id:"verifica-stato-evasione",level:2},{value:"Evadibilit\xe0 Portafoglio Ordini",id:"evadibilit\xe0-portafoglio-ordini",level:2},{value:"Trasformazione documenti 1 a n (Evasione DDT e Generazione fatture)",id:"trasformazione-documenti-1-a-n-evasione-ddt-e-generazione-fatture",level:2},{value:"Trasformazione Documenti n a n",id:"trasformazione-documenti-n-a-n",level:2},{value:"Inserimento massivo documenti",id:"inserimento-massivo-documenti",level:2},{value:"Acquisizione listini dall&#39;esterno: Servizio IEImportLI",id:"acquisizione-listini-dallesterno-servizio-ieimportli",level:2},{value:"Esportazione e Importazione clienti o fornitori dall&#39;esterno: Servizio IEImportCO e IEExportCO",id:"esportazione-e-importazione-clienti-o-fornitori-dallesterno-servizio-ieimportco-e-ieexportco",level:2},{value:"Importazione clienti/fornitori",id:"importazione-clientifornitori",level:2},{value:"Esportazione clienti/fornitori",id:"esportazione-clientifornitori",level:2}];function c(e){const i={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h3,{id:"documentation-to-support-usage-scenarios",children:"Documentation to Support Usage Scenarios"}),"\n",(0,t.jsx)(i.p,{children:"To support the various managed usage scenarios, some use cases are provided as examples."}),"\n",(0,t.jsx)(i.admonition,{title:"Note",type:"danger",children:(0,t.jsx)(i.p,{children:"Although the use of services allows for implementations different from those specified, it is reminded that the supported functionalities are those described in the indicated Use Cases."})}),"\n",(0,t.jsx)(i.h2,{id:"minimal-insertion-of-general-master-data",children:"Minimal Insertion of General Master Data"}),"\n",(0,t.jsx)(i.p,{children:"Insertion of general master data as a Natural Person:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "codfiscale": "MRARSS13S08H501H",\n    "partiva": null,\n    "flgAnagval": 1.0,\n    "ragSoAnag": "Mario Rossi & C",\n    "statofiscCg07" : 86.0, // Country ITALY\n    "sesso": 0.0, // 0 = M   1 = F\n    "addresses": [\n       {\n            "cap": 47838,\n            "citta": "Rimini",\n            "numciv": "12",\n            "via": "Draghi 9",\n            "addressesType": [\n                {\n                    "tipo": 1 // Business location\n                }\n            ],\n            "statoEst": {\n                "codice": 86.0 // Country ITALY\n            }\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"minimal-insertion-of-a-customersupplier",children:"Minimal Insertion of a Customer/Supplier"}),"\n",(0,t.jsx)(i.p,{children:"To insert a customer or supplier, it is necessary to have previously inserted the common master data and, when inserting a customer, indicate the corresponding common master data code, as shown in the example below:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "flgAttivo": 1.0,\n    "tipocf": 0.0,\n    "generalMasterDataCO": {\n        "codice": 774\n    },\n    "paymentTermCO": {\n        "codPag": "301",\n        "descPag": "NR.01 RD A VISTA",\n        "id": 50\n    },\n    "extensionData": []\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"search-for-a-customersupplier-by-tax-code-andor-vat-number",children:"Search for a Customer/Supplier by Tax Code and/or VAT Number"}),"\n",(0,t.jsx)(i.p,{children:"Using the call"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"{{webapi_base_url}}/api/v1/{{scope}}/CO/lookup/CustomerSupplierCO?metadata=true&company={{defaultCompany}}&_op=search\n"})}),"\n",(0,t.jsx)(i.p,{children:"it is possible to search for a customer by VAT Number or Tax Code or by Company Name."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "filters": \n    {\n        "items":         \n        [ \n            {\n                "comparer": 0,             \n                "propertyName": "CustomerSupplierCO_Tipocf",            \n                "value": "0"             \n            },            \n            { \n                "operator": 1,             \n                "items":                 \n                [ \n                    {\n                        "propertyName": "CustomerSupplierCO_GeneralMasterDataCO_Partiva",                        \n                        "comparer": 0,                      \n                        "value": "25052733463"                        \n                    },                        \n                    {\n                        "operator": 2,                   \n                        "propertyName": "CustomerSupplierCO_GeneralMasterDataCO_Codfiscale",                        \n                        "comparer": 30,                         \n                        "value": "MRARSS13S08H501H" \n                    }, \n                    {\n                        "operator": 2,                      \n                        "propertyName": "CustomerSupplierCO_GeneralMasterDataCO_RagSoAnag",                       \n                        "comparer": 20,                           \n                        "value": "ROSSI"                        \n                    }                                \n                ] \n            }\n        ]\n    },  \n    "pageSize": 5,  \n    "pageNumber": 0\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"minimal-insertion-of-an-item-code",children:"Minimal Insertion of an Item Code"}),"\n",(0,t.jsx)(i.p,{children:"Insert example JSON here."}),"\n",(0,t.jsx)(i.h2,{id:"documents",children:"Documents"}),"\n",(0,t.jsx)(i.p,{children:'The "Document" resource can be used to insert/delete/modify a document in TSE. The resource can be used to insert any type of document, simply by changing the document code in the call.'}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Note"}),": For the information passed to the document WebAPI with the related DTO to be effectively received and stored, it is necessary that the wizard of the used document code manages them on the user interface. Therefore, during the solution design phase, it is always advisable to perform a double check to ensure that a document inserted from the user interface with the same information passed via WebAPI is correctly inserted."]}),"\n",(0,t.jsx)(i.p,{children:"The insertion of a document can occur synchronously with the POST method."}),"\n",(0,t.jsxs)(i.p,{children:["Please note that to insert a document, it is not necessary to populate all the properties of the complex DTO that represents it. The ",(0,t.jsx)(i.em,{children:"minimal"})," insertion of the document is done by indicating:"]}),"\n",(0,t.jsxs)(i.p,{children:['"',(0,t.jsx)(i.strong,{children:"company"}),'" or "companyCg18" (the working company code): property in DocumentHeader.']}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Note"}),": From version ",(0,t.jsx)(i.strong,{children:"202501000"}),", a default logic for the ",(0,t.jsx)(i.code,{children:"company"})," field in Data Transfer Objects (DTO) has been introduced. If the value of the ",(0,t.jsx)(i.code,{children:"company"}),' field of the "root" entity is not provided or is null, it is automatically populated with the company code derived from the current user session (parameter ',(0,t.jsx)(i.code,{children:"company"}),"). This operation propagates to all associated ",(0,t.jsx)(i.code,{children:"external"})," and ",(0,t.jsx)(i.code,{children:"internal"})," entities."]}),"\n",(0,t.jsxs)(i.p,{children:['"',(0,t.jsx)(i.strong,{children:"companyDocumentMasterData"}),'": property of type CompanyDocumentMasterDataMGDTO that represents the document code to be used for the document insertion. In TSE, each document refers to a document code previously activated for the working company.\nTo insert a document, it is mandatory to indicate the document code to be used, a code to which behaviors and parameterizations with the related functionalities of the management system (Document Customization / Company Document Customization) are associated, and specify whether the document code is standard or customized.\nA possible value for the companyDocumentMasterData property could be:']}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "companyDocumentMasterData": {\n        "codDocumMg36": "C-ORDINE",\n        "indStaperMg36": 1\n    }\n}\n\nIn this way, a document with the document code "C-ORDINE" customized (indStaperMg36 = 1, while for standard document codes indStaperMg36 = 0) activated on company 100 is inserted.\n\n"**customerSupplierMG**": property of type customerSupplierMGDTO that represents the customer or supplier to whom the document is addressed. For example, to address the document to the customer with code 123, it is necessary to set the \'customerSupplierMG\' property as follows:\n\n{\n    "customerSupplierMG": {\n        "tipocfCg40": 0,\n        "cliFor": 123\n    }\n}\nNote that cliFor is the customer (or supplier for supplier-type documents) code and not its ID present in the CG44_CLIFOR table. Finally, remember that if the document code requires the customer or supplier, it is necessary to define the \'tipocfCg40\' indicator with the possible values of the CG44_TIPOCF field of the CG44_CLIFOR table, which are:\n\n0 for customers 1 for suppliers\n\n"**sezdoc**": the section of the document numbering (e.g., "sezdoc": "00")\n\n"**storageWH**": the property of type StorageWHDTO that represents the warehouse to be moved. For example, working on company 100, to order goods in warehouse "00", it is necessary to set the storageWH property as follows:\n\n{\n    "storageWH": {\n        "codDep": "00"\n    }\n}\n"**lines**": the array of lines to be inserted in the document; it is an array of objects of type DocumentLineMGDTO. The types of lines currently managed in the document body are as follows:\n\nItem (indtiporiga = 0)\nManual Item (indtiporiga = 1)\nDescriptive (indtiporiga = 2)\nExpense (indtiporiga = 4)\nFixed Text (indtiporiga = 6)\nNode (indtiporiga = 15)\nActivity (indtiporiga = 16)\nProject Expense (indtiporiga = 17)\nOther types usable from the direct document issuance interface are not supported.\n\nDepending on the type of line to be inserted in the document, a different "indtiporiga" must be specified, as described above. For each document line, at least the line number, code, and quantity must be indicated.\n\nFor item lines, at least the line number, item code, item description, and quantity must be indicated. The indtiporiga property takes the default value of 0 if not set.\n{\n    "progrRiga": 1.0,\n    "codartMg66": "ART001",\n    "descart": "Item description ART001",\n    "qta1": 1.000\n}\nNote: If item lines are inserted and an item code provides for the automatic explosion of additional lines, the progrRiga is automatically recalculated by the procedure.\n\nFor miscellaneous expense lines, at least indtiporiga, line number, quantity (normally unitary), and expense code, an object of type MiscellaneousExpenseMGDTO, must be indicated, as in the following example:\n{\n    "indtiporiga": 4,\n    "progrRiga": 4.0,\n    "qta1": 1.000,\n    "miscellaneousExpenseMG": {\n        "code": "SP1"\n    }\n}\nNote on Document Customization: Document customizations are managed only in the document header through "extensionData" and "additionalData" and cannot be managed in the document lines. Therefore, to manage document customizations in the document body, it is necessary to use the CustomizedLine (DO35_DOCCORPOPERS) and ExtendedLine (DO36_DOCCORPOEST) fields.\n\nPrice retrieval when inserting lines If the prices and discounts of warehouse items inserted in the document body are passed with a value of zero, the business logic values them based on the price retrieval configuration set on the document code parameterization used.\n\nIf the price and discounts passed in the DTO are different from zero, the values proposed by the price retrieval logic from the configuration will be overwritten with the values passed in the DTO.\n\n**Note on Document Customization**: Document customizations are managed only in the document header through "extensionData" and "additionalData" and cannot be managed in the document lines. Therefore, to manage document customizations in the document body, it is necessary to use the CustomizedLine (DO35_DOCCORPOPERS) and ExtendedLine (DO36_DOCCORPOEST) fields.\n\n**Price retrieval when inserting lines**\nIf the prices and discounts of warehouse items inserted in the document body are passed with a value of zero, the business logic values them based on the price retrieval configuration set on the document code parameterization used.\n\nIf the price and discounts passed in the DTO are different from zero, the values proposed by the price retrieval logic from the configuration will be overwritten with the values passed in the DTO.\n\nRegarding Document scenarios, some examples are made available directly within the POST (Create) call of the IntegrationMG\\Documento module in the swagger:\n\n**IMMAGINE** DA RIPORTARE\n\nUsing the Try it out feature, it will be possible to automatically execute the call, replacing the placeholders indicated in the examples with the appropriate data.\n\n*Available Document examples on Swagger*:\n\n*Default (complete)*: shows the complete call body;\n*Min required*: Minimal mandatory header information;\n*Order*: example of an order-type document body;\n*Delivery Note*: example of a delivery note-type document body;\n*Invoice*: example of an invoice-type document body;\n*Transfer warehouses*: example of a warehouse transfer-type document body.\n\n**Propriet\xe0 callOptions**\nThe `callOptions` property allows grouping all call options/parameters that are not actual fields of the entity.\n\nCurrently, the following options are available:\n- `flgSpbolliForceZero` (default false): set to true if you want to force the value = 0 of the stamp duty expenses flag;\n- `flgSpincasForceZero` (default false): set to true if you want to force the value = 0 of the collection expenses flag;\n- `esclusioneAgentiMultipli` (default false): set to true to exclude the loading of multiple agents in the header;\n- `esclusioneIvaTestata` (default false): set to true to force the VAT code of the document header to Null;\n- `flgLockOnDocExist` (default false): set to true to block the insertion of an already existing document;\n- `disableLetterOfIntent` (default false): set to true to disable letters of intent;\n- `esclusioneSpeseTestiCliFor` (default false): set to true to exclude the proposal of default expense and fixed text lines of the Customer.\n\n**WARNING:** the parameters `esclusioneAgentiMultipli`, `esclusioneIvaTestata`, `flgLockOnDocExist` already present in the document header entity remain to ensure compatibility with previous versions; it is recommended not to use them as they have been deprecated, and the [Obsolete] attribute is used in the swagger.\n\n## Management of the Preferred Agent\n\nIt is possible to manage the preferred agent when saving a customer (CustomerSupplierCO). Any agent associated with the customer is inserted into the multiple agents as the preferred agent. It is also possible to define additional multiple agents for the customer.\nWhen inserting a document, the multiple agents stored in the customer registry are retrieved.\nHowever, if different agents are specified in "documentoTestataAgentiMG" during document insertion, these will replace those retrieved from the customer registry.\n\nTramite la propriet\xe0 callOptions \xe8 possibile escludere o meno gli agenti multipli.\n\n**EsclusioneAgentiMultipli = false** (con propriet\xe0 callOptions o parametro=0 su versione 8)\n\n- Se nel DTO non viene valorizzata la propriet\xe0 `DocumentoTestataAgentiMG`, il sistema popoler\xe0 la tabella `DO29_DOCTESAGENTI` con gli agenti collegati al cliente e recuperati con le usuali logiche utilizzate dal gestionale in fase di inserimento del documento da interfaccia.\n- Se nel DTO viene valorizzata la propriet\xe0 `DocumentoTestataAgentiMG`, il sistema popoler\xe0 la tabella `DO29_DOCTESAGENTI` con gli agenti di cui al punto precedente e con gli agenti passati in `DocumentoTestataAgentiMG` (viene fatta l\'unione dei due insiemi di agenti).\n\n**EsclusioneAgentiMultipli = true** (con propriet\xe0 callOptions o parametro=1 su versione 8)\n\n- Il sistema popoler\xe0 la tabella `DO29_DOCTESAGENTI` con i soli eventuali agenti passati in `DocumentoTestataAgentiMG`, ignorando quelli che verrebbero proposti da configurazione del cliente.\n\n## Ricerca prezzi da Listini prioritari\n**Recupero dei prezzi in inserimento delle righe da listini prioritari: servizio PricePriorityLI**\nIl servizio consente di eseguire una ricerca prezzi da listini prioritari attraverso il servizio PricePriorityLI\n\nL\'esempio allegato riporta il prezzo dei listini prioritari elaborati in base alla Tabella priorit\xe0 definita su TSE, utilizzati per generare il PricePriorityLI e visualizza nel Result ("RowElaboratePriceList"), se impostato il parametro "ResultElaboratePriceList" = true.\n\n**Parametri**\n\n- **Tipo prezzo (typeSalePurchaseProd)**: `Decimal` (DO11_TIPOCF_CG44/2)  \n  0 = Vendite (default)  \n  1 = Acquisti  \n  2 = Produzione\n- **Codice Articolo (CodartMg66)**: `String` (DO30_CODART_MG66) \u2014 mandatory\n- **Codice Cliente/Fornitore**: `Decimal` (DO11_CLIFOR_CG44)\n- **Data Registrazione**: `Datetime` (DateElab) \u2014 mandatory\n- **Quantit\xe0 1 (di riga) (qty1)**: `Decimal` (DO30_QTA1)\n- **Numero Listino (numPriceList)**: `Decimal` (DO11_LISTMAG)\n- **Codice Deposito (codDepMg58)**: `String` (DO30_CODDEP_MG58)\n- **Attivazione visualizzazione elenco dei prezzi elaborati (resultElaboratePriceList)**: if set = `true`\n\n**Esempio**\n\n```json showLineNumbers\n{\n  "typeSalePurchaseProd": 0,\n  "codArtMg66": "ART_LI",\n  "cliforCg44": 1,\n  "dateElab": "2024-06-14 00:00:00",\n  "qty1": 0,\n  "numPriceList": 1,\n  "codDepMg58": "00",\n  "resultElaboratePriceList": true\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"ricerca-prezzi-da-listini-parametrici",children:"Ricerca prezzi da Listini parametrici"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Recupero dei prezzi in inserimento delle righe da listini parametrici: servizio PriceParametricLI"}),"\nIl servizio PriceParametricLI consente di individuare il prezzo in base ai listini parametrici partendo dal codice priorit\xe0 definito in Tabella priorit\xe0 su TSE."]}),"\n",(0,t.jsx)(i.p,{children:'Questo servizio richiede i Parametri "PriceParametricParameters" e richiama la store Procedure SPLP_QUOTPROBELIST per recuperare il prezzo corrente con eventuali sconti  in "PriceParametricLI".'}),"\n",(0,t.jsx)(i.p,{children:"Viene previsto anche un parametro per richiedere il dettaglio dell\u2019esito dell\u2019elaborazione dei listini parametrici che permette di capire come si \xe8 formato il prezzo in base alla tabella priorit\xe0 e ai provider utilizzati."}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:"ATTENZIONE!"}),": Attualmente la store procedure gestisce anche le condizioni commerciali e le provvigioni per piede documento che in questa prima fase non sono gestite, (viene passato alla store procedure il parametro fisso  @RIGA_PIEDE=0)."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Parametri"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"ResultElab"})," bool (default false)\nParametro per attivare l\u2019esito dell\u2019elaborazione listini parametrici.\nSe attivato \xe8 necessario passare alla store procedure il nome di una tabella temporanea dove vengono memorizzate tutte le righe dei prezzi che sono state trovate per generare il prezzo finale;"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"dataReg"})," - Data registrazione --- obbligatorio"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"CodTabPriority"}),"   int64  (ID_TABPRIORITA) --- obbligatorio\nAttraverso il codice viene ricavato l\u2019IdTabPriority da passare alla store procedure"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"tipocfCg44"})," - Tipo Cliente/fornitore Decimal (DO11_TIPOCF_CG44)\nATTENZIONE: Conversione tipo documento: cliente= 0--\x3e diventa 1 e fornitore=1 diventa 2 da passare alla store procedure"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"cliforCg44"})," - Codice Cliente/fornitore Decimal (DO11_CLIFOR_CG44)\nTutti i campi dei clienti/fornitori vengono letti automaticamente"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"codartMg66"})," - String (DO30_CODART_MG66) --- obbligatorio"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"documentData"})," - Data documento    Datetime (DATADOC)\nSe non valorizzata viene valorizzata con data registrazione"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Esempio"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n{\n\xa0 \xa0 \xa0 \xa0 "resultElab": false,\n\xa0 \xa0 \xa0 \xa0 "dataReg": "2023-06-22T13:34:35.125Z",\n\xa0 \xa0 \xa0 \xa0 "CodTabPriority": "TVEN",\n\xa0 \xa0 \xa0 \xa0 "tipocfCg44": 0,\n\xa0 \xa0 \xa0 \xa0 "cliforCg44": 2,\n\xa0 \xa0 \xa0 \xa0 "codartMg66": "2",\n\xa0 \xa0 \xa0 \xa0 "documentData": {\n\xa0 \xa0 \xa0 \xa0 "qta1": 10,\n\xa0 \xa0 \xa0 \xa0 "documMg36": "CLI-FATIMM"\n\xa0 \xa0 \xa0 \xa0 }\n}\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"servizio-print-documenti-generazione-stampa-documento-su-pdf",children:"Servizio Print documenti: generazione stampa documento su pdf"}),"\n",(0,t.jsx)(i.p,{children:"Per consentire la stampa in pdf di un documento \xe8 possibile recuperare con una GET, tramite il comando Print, lo streamPDF di un documento che dovr\xe0 essere poi decodificato e convertito in PDF tramite un qualsiasi programma di conversione."}),"\n",(0,t.jsx)(i.p,{children:"Esempio di GET per generare lo streamPDF:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/Documento/<NumeroDocumento>/print?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.p,{children:"il servizio ritorna il seguente Json:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "streamPDF": "JVBERi0xLjMgCiXi48/ \u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026.. ",\n    "error": ""\n}\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"Il contenuto dello streamPDF deve essere copiato ed inserito in un qualsiasi programma di conversione per procedere con la decodifica e la conversione in pdf."}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Attenzione - in caso di Stampa archiviata e valida"}),": nel caso di stampa archiviata e valida, \xe8 necessario rieseguire l\u2019esportazione ed il programma recupera il pdf archiviato sul disco."]}),"\n",(0,t.jsx)(i.h2,{id:"gestione-kit",children:"Gestione Kit"}),"\n",(0,t.jsx)(i.p,{children:"E' possibile ricercare, inserire, modificare e cancellare un kit e di conseguenza utilizzarlo all\u2019interno dei documenti opportunamente configurati (Parametri Generali documenti-Personalizzazione) con relativa esplosione dei componenti nelle righe documento."}),"\n",(0,t.jsxs)(i.p,{children:["Utilizzando l'entit\xe0 Master KitWH e Detail KitLinkWH \xe8 possibile creare ",(0,t.jsx)(i.em,{children:"kit semplici"}),", definendo solo articolo e quantit\xe0"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n    "codProductMg66": "BICI",\n    "dittaCg18": {{azienda}},\n    "exclusionChild1Mg82": null,\n    "exclusionChild2Mg82": null,\n    "exclusionChild3Mg82": null,\n    "exclusionChild4Mg82": null,\n    "exclusionFather1Mg82": "OR",\n    "exclusionFather2Mg82": "BO",\n    "exclusionFather3Mg82": "FA",\n    "exclusionFather4Mg82": "PR",\n    "optionProductMg5e": "",\n    "kitLinkWH": [\n        {\n            "codComponentMg66": "BICI2",\n            "optionComponentMg5e": "",\n            "qtyComponent1": 10.000000\n        },\n        {\n            "codComponentMg66": "MSE003",\n            "qtyComponent1": 15.000000\n        }\n    ]\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["o creare ",(0,t.jsx)(i.em,{children:"kit completi"}),", dove \xe8 possibile valorizzare ulteriori propriet\xe0:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n    "codProductMg66": "MSE002",\n    "dittaCg18": {{azienda}},\n    "exclusionChild1Mg82": null,\n    "exclusionChild2Mg82": "BO",\n    "exclusionChild3Mg82": "PR",\n    "exclusionChild4Mg82": null,\n    "exclusionFather1Mg82": "OR",\n    "exclusionFather2Mg82": "BO",\n    "exclusionFather3Mg82": "FA",\n    "exclusionFather4Mg82": "PR",\n    "optionProductMg5e": "",\n    "kitLinkWH": [\n        {\n            "codComponentMg66": "BICI2",\n            "optionComponentMg5e": "",\n            "StartingDate": "2024-01-15T00:00:00",\n            "endingDate": "2024-12-31T00:00:00",\n            "qtyComponent1": 13.000000,\n            "qtyComponent2": 10.000000,\n            "fixedQta": 1,\n            "typeBomLink": 3,\n            "typeOptionalLink": 1,\n            "typeVal": 2,\n            "costComponent": 10.0000\n        },\n        {\n            "codComponentMg66": "BICI",\n            "optionComponentMg5e": "",\n            "StartingDate": "2024-01-15T00:00:00",\n            "edningDate": "2024-06-31T00:00:00",\n            "qtyComponent1": 25.000000,\n            "qtyComponent2": 33.000000,\n            "fixedQta": 1,\n            "typeBomLink": 3,\n            "typeOptionalLink": 0,\n            "typeVal": 3,\n            "costComponent": 150.0000\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"inserimento-documento-con-codice-articolo-di-tipo-kit",children:"Inserimento Documento con Codice Articolo di Tipo Kit"}),"\n",(0,t.jsx)(i.p,{children:"Tramite una normale chiamata di inserimento documento, \xe8 possibile indicare tra le righe documento anche un codice articolo di tipo Kit. L'esplosione dei relativi componenti e la modalit\xe0 di esplosione deve essere definita preventivamente da Erp in Parametri generali documenti oppure da Personalizzazione documenti oppure da Personalizzazione documenti azienda, a seconda delle esigenze aziendali."}),"\n",(0,t.jsx)(i.h3,{id:"esempio",children:"Esempio"}),"\n",(0,t.jsx)(i.p,{children:"Il seguente esempio prevede l'inserimento di un DDT tramite il Tipo documento 'C-DDT' personalizzato che prevede due righe documento:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Una con un codice articolo normale."}),"\n",(0,t.jsx)(i.li,{children:"L'altra con un codice articolo di tipo kit."}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Il suddetto Tipo documento prevede l'esplosione dei componenti del Kit e che ogni componente sia riportato sul documento come riga descrittiva."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "valutaCg08": "EURO",\n    "anagraficaDocumentoDitta": {\n        "codDocumMg36": "C-DDT",\n        "indStaperMg36": 1.0\n    },\n    "customerSupplierMG": {\n        "tipocfCg40": 1,\n        "cliFor": 1\n    },\n    "sezdoc": "00",\n    "storageWH": {\n        "codDep": "00"\n    },\n    "righe": [\n        {\n            "progrRiga": 1.0,\n            "codartMg66": "ART001",\n            "descart": "Articolo ordinario",\n            "qta1": 15.000\n        },\n        {\n            "progrRiga": 1.0,\n            "codartMg66": "MSE002",\n            "descart": "Articolo kit",\n            "qta1": 15.000\n        }\n    ]\n}\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"documento-di-trasferimento-tra-depositi",children:"Documento di trasferimento tra depositi"}),"\n",(0,t.jsx)(i.p,{children:"Si pu\xf2 emettere un DDT di scarico deposito, generando automaticamente un nuovo DDT di carico a deposito."}),"\n",(0,t.jsx)(i.p,{children:"Nel json per la parte di Testata si devono compilare le propriet\xe0 storageWH per il deposito di partenza"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n\u202f \u202f "storageWH": { \n\u202f \u202f \u202f \u202f "codDep": "00" \n\u202f \u202f }\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"e storageWHCollegato per il deposito di arrivo \u202f"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n"storageWHCollegato": { \n\u202f \u202f \u202f \u202f "codDep": "01", \n\u202f \u202f \u202f \u202f "descrdep": "Deposito secondario", \n\u202f \u202f }\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"Se all\u2019interno di un documento l\u2019utente vuole definire un deposito di riga diverso da quello di testata, nel file json, nella sezione delle righe documento, si devono compilare coddepcolMg58 e coddepMg58 :"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n\u202f \u202f "coddepcolMg58": "01",\xa0\n\u202f \u202f \u202f"coddepMg58": "00",\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"dove il primo indica il deposito di destinazione ed il secondo il deposito di partenza."}),"\n",(0,t.jsx)(i.h2,{id:"document-service",children:"Document Service"}),"\n",(0,t.jsx)(i.p,{children:"DocumentService contiene un set di servizi di elaborazione a corredo della parte CRUD dei documenti, quali la trasformazione, l'evasione, il controllo evadibilit\xe0 portafoglio ordini e l'inserimento massivo dei documenti di tipo sincrono e asincrono."}),"\n",(0,t.jsx)(i.h2,{id:"trasformazione-documenti-1-a-1-e-verifica-stato-evasione",children:"Trasformazione Documenti 1 a 1 e verifica Stato Evasione"}),"\n",(0,t.jsx)(i.p,{children:"Nell'esempio allegato viene presentato lo scenario di interazione ERP-B2C che prevede l'inserimento di un Ordine cliente con:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Informazioni minimali obbligatorie di testata"}),"\n",(0,t.jsx)(i.li,{children:"Riga di tipo articolo, con codice articolo e quantit\xe0 (prezzo recuperato da listino nel BO)"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Per quanto concerne la Trasformazione Documenti (transform), con la seguente chiamata:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/DocumentService/transform?company={{defaultCompany}}&force=24368,89522\n\n"})}),"\n",(0,t.jsx)(i.p,{children:"Viene eseguita la trasformazione documento in fattura, indicando il numero registrazione di origine del documento ordine ed il relativo modello di trasformazione, nella response \xe8 riportato il numero registrazione della fattura generata."}),"\n",(0,t.jsx)(i.p,{children:'Il servizio recupera i parametri da "DocumentTransformationParameterDTO" che contiene il modello di trasformazione, definito su ERP, e la lista del numero registrazione dei documenti di origine e restituisce in "DocumentTransformationMGDTO" la lista dei numeri di registrazione del documento generati.'}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"DocumentTransformationParameterDTO"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n"[NumRegOrigin]"  - obbligatorio (Numero di registrazione che si vuole trasformare/evadere)\n"CodModelTransfDoc" - obbligatorio (Codice modello per la trasformazione documento)\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"DocumentTransformationResponseDTO"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n"<NumRegDestination>" - (Elenco dei numero di registrazione creati)\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:"In caso di messaggi di warning"})," \xe8 possibile forzarli con i seguenti parametri:"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:"&force=24368"}),": in presenza di segnalazione articoli bloccati;\n",(0,t.jsx)(i.em,{children:"&force=29074"}),": in presenza di segnalazione articoli e lotti trasformati sottoscorta."]}),"\n",(0,t.jsx)(i.p,{children:"Sono anche disponibili le seguenti Lookup per risalire ai modelli di trasformazione e alla loro composizione ed anche delle Lookup che interrogano oltre le entit\xe0 gi\xe0 presenti, ModelTrasformationCompanyMG, con dettaglio ModelTrasformationCompanyDetMG, le nuove entit\xe0 ModelTrasformationMG, con dettaglio ModelTrasformationDetMG, contenenti i codici documento di origine e di destinazione utilizzati dal modello di trasformazione utilizzato:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Lookup Modelli Trasformazione Generale"}),": visualizza tutti i modelli (archivio generale) dettagliati con i documenti di origine e destinazione"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/Lookup/ModelTrasformationMG\n\n- **Lookup Dettaglio Modelli Trasformazione Generale**: visualizza tutti i dettagli dei modelli (archivio generale)\n\nwebapi_base_url/api/v1/{{scope}}/MG/Lookup/ModelTrasformationDetMG\n\n- **Lookup Modelli Trasformazione Generale**: visualizza i modelli attivati per azienda (senza dettagli)\n\nwebapi_base_url/api/v1/{{scope}}/MG/Lookup/ModelTrasformationCompanyMG\n\n- **Lookup Modelli Trasformazione con Dettaglio Documenti**: visualizza i modelli attivati per azienda o archivio generale con i dettagli dei documenti di origine e destinazione effettivi (viene recuperata dall'Erp la propriet\xe0 ModelTrasformationCompanyMG.IndEvasmult, se a 99 vengono utilizzati i documenti dell\u2019archivio generale se a 1 vengono utilizzati invece i documenti dell'azienda).\n\nwebapi_base_url/api/v1/{{scope}}/MG/Lookup/ModelTrasformationCompanyDetMG\nwebapi_base_url/api/v1/{{scope}}/MG/Lookup/ModelTrasformationCompanyWithCodeDoc\n\n"})}),"\n",(0,t.jsx)(i.h2,{id:"verifica-stato-evasione",children:"Verifica Stato Evasione"}),"\n",(0,t.jsx)(i.p,{children:"Successivamente con la lookup Verifica Stato Evasione \xe8 possibile indicare il numero registrazione o il numero documento dell'ordine iniziale e nella response viene restituita la lista delle righe del documento indicato in input con il relativo stato evasione (q.t\xe0 documento, q.t\xe0 evase, q.t\xe0 residua) e riferimento alla/alle righe che hanno prelevato il documento."}),"\n",(0,t.jsxs)(i.p,{children:["Per quanto concerne la verifica Stato Evasione Documento (",(0,t.jsx)(i.em,{children:"docprocessingstatus"}),"), la seguente chiamata:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/DocumentService/docprocessingstatus?company={{defaultCompany}}&user=admin&loadEntireDomain=true&getTotalCount=true\n\n"})}),"\n",(0,t.jsx)(i.p,{children:"elabora il risultato in funzione di una Search tipica che, tramite una Action POST, nel cui body \xe8 possibile impostare tutte le propriet\xe0 esposte dal DTO di riferimento in maniera dinamica, restituisce una collection di entity contenente le righe del documento di riferimento con gli stati di avanzamento ed il proprio stato di evasione."}),"\n",(0,t.jsx)(i.p,{children:'Nel query param \xe8 possibile impostare anche il criterio di paginazione con totalizzazioni, tramite la valorizzazione a True del parametro "getTotalCount".'}),"\n",(0,t.jsx)(i.p,{children:"Inoltre \xe8 disponibile un servizio di Lookup di interrogazione dello stato di evasione del singolo ordine come riportato di seguito:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/Lookup/DocumentoStatoEvasoMG?metadata=true&company={{defaultCompany}}&_op=search\n\n"})}),"\n",(0,t.jsx)(i.h2,{id:"evadibilit\xe0-portafoglio-ordini",children:"Evadibilit\xe0 Portafoglio Ordini"}),"\n",(0,t.jsxs)(i.p,{children:["Il servizio di Evadibilit\xe0 Portafoglio Ordini che appartiene allo ",(0,t.jsx)(i.em,{children:"scenario di spedizione esterna"})," consente di reperire l'elenco evadibilit\xe0 portafoglio ordini per la spedizione impostato nell'Erp ",(0,t.jsx)(i.em,{children:"indicando il Parametro utilizzato, in questo caso 1 e con tipo evadibilit\xe0 per singolo articolo, in modalit\xe0 sincrona. L'elenco degli ordini \xe8 visibile nella response."})]}),"\n",(0,t.jsx)(i.p,{children:"Per recuperare l'elenco degli ordini evadibili per la spedizione effettuare la seguente chiamata:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/DocumentService/orderavailability?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n    "LimiteEvadibilita": 1,\n    "tipoEvadibilita": 0,\n    "codart":"",\n    "IsAsyncMode": "true",\n    "MinExpire": "180"\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Il parametro ",(0,t.jsx)(i.em,{children:"LimiteEvadibilita"})," consente una pre-parametrizzazione dei filtri via ERP, che verranno considerati in fase del payload nella Post della richiesta. E' inoltre possibile definire la tipologia di evadibilit\xe0 (",(0,t.jsx)(i.em,{children:"tipoEvadibilita"}),"), il valore di default \xe8 0."]}),"\n",(0,t.jsx)(i.p,{children:'I valori accettati dal nodo "tipoEvadibilita" in body sono:'}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"0 complessiva per tutti gli articoli (default);"}),"\n",(0,t.jsx)(i.li,{children:"1 per articolo selezionato ;"}),"\n",(0,t.jsx)(i.li,{children:"2 complessiva per tutti i documenti."}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["Se il parametro di asincronismo (",(0,t.jsx)(i.em,{children:"IsAsyncMode"}),'"*) della chiamata \xe8 impostato a false, l\u2019elaborazione avverr\xe0 in modalit\xe0 sequenziale con l\u2019obbligo di attesa della risposta col resultset risultante.']}),"\n",(0,t.jsx)(i.p,{children:'Il nodo "IsAsyncMode", se impostato a \u2018true\u2019, far\xe0 si che la gestione del recupero dei valori sia di tipo asincrono, modificando il solito comportamento delle richieste; in questo caso vengono considerati tutti gli articoli e nella response viene restituito un GuidSession.'}),"\n",(0,t.jsx)(i.p,{children:'Con il "guidSession" restituito sar\xe0 possibile recuperare il risultato tramite:'}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"apposita Lookup impostata sulla entity:"}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/Lookup/DocumPortfolioEvaMG?metadata=true&company={{defaultCompany}}&_op=search\n"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:'oppure riutilizzando lo stesso endpoint di chiamata, ampliando il body con il nodo della "guidSession" ottenuto:'}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/DocumentService/orderavailability?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "LimiteEvadibilita": 1,\n    "tipoEvadibilita": 0,\n    "codart":"",\n    "IsAsyncMode": "true",\n    "MinExpire": "180",\n    "guidSession": "{{guidSession}}"\n}\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:'Il parametro "MinExpire", consente di stabilire la durata della persistenza tra una chiamata e l\u2019altra del risultato, espresso in termini di minuti, e verr\xe0 utilizzato per simulare una cache della griglia dei dati depositata su una tabella. Ad ogni chiamata verr\xe0 ripulita la tabella delle righe dei result precedenti che avranno espirato i termini di tempo previsti (MGM2_PORTAFOGLIOORDINI).'}),"\n",(0,t.jsx)(i.p,{children:"Per entrambe le modalit\xe0, sincrona e asincrona \xe8 possibile reperire l'elenco evadibilit\xe0 portafoglio filtrando per singolo articolo e per la sua variante."}),"\n",(0,t.jsx)(i.p,{children:'Esempio con "tipoEvadiblit\xe0":1 ossia ricerca evadibilit\xe0 portafoglio ordini per articolo e con filtro per variante:'}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "LimiteEvadibilita": 1,\n    "tipoEvadibilita": 1,\n    "codart":"{{Articolo1}}",\n    "variante":"{{Variante}}",\n    "IsAsyncMode": "false",\n    "MinExpire": "180"\n}\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"Nel body della chiamata \xe8 importante indicare correttamente il filtro \u201cvariante\u201d riportando esattamente lo schema di indicazione configurato nel gestionale TSE, ossia indicare le varianti con lo stesso numero di caratteri configurate nel gestionale."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"La delete consente di eliminare il set di elaborazioni per GuidSession."}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"La Lookup Borderaux consente la visualizzazione di una lista righe documenti con i dati della spedizione in stile borderaux"}),"."]}),"\n",(0,t.jsx)(i.p,{children:"E' disponibile anche una Lookup che consente la visualizzazione di una lista righe documenti con i dati della spedizione in stile Borderaux, eseguendo la seguente chiamata:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/MG/Lookup/BorderauxMG?metadata=true&company={{defaultCompany}}&_op=search\n\n"})}),"\n",(0,t.jsx)(i.h2,{id:"trasformazione-documenti-1-a-n-evasione-ddt-e-generazione-fatture",children:"Trasformazione documenti 1 a n (Evasione DDT e Generazione fatture)"}),"\n",(0,t.jsx)(i.p,{children:"A fronte di un documento di partenza si possono generare automaticamente pi\xf9 documenti di destinazione (Trasformazione documenti 1 a n), tramite la configurazione della Rottura di riga sul modello di trasformazione documenti utilizzato. Gli elementi di rottura di riga sono quelli gestiti nell'Erp :"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Pagamento articolo"}),"\n",(0,t.jsx)(i.li,{children:"Causale di magazzino"}),"\n",(0,t.jsx)(i.li,{children:"Deposito"}),"\n",(0,t.jsx)(i.li,{children:"Deposito collegato"}),"\n",(0,t.jsx)(i.li,{children:"Sede"}),"\n",(0,t.jsx)(i.li,{children:"Divisione"}),"\n",(0,t.jsx)(i.li,{children:"Indicatore merce articolo 62"}),"\n",(0,t.jsx)(i.li,{children:"CIG/CUP"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"A fronte di un DDT \xe8 possibile generare n Fatture, tramite la Trasformazione Documenti, se il modello di Trasformazione Documenti prevede la rottura di riga in base ad un elemento definito.\nSimulando la chiamata di una trasformazione documenti per rottura di riga per deposito, la response restituisce n numRegDestination per ogni deposito di riga presente nel documento di origine, per il quale appunto sul documento di origine (DDT) si valorizza il coddepMg58 ossia il deposito di riga differente per ogni riga articolo. Sul modello di Trasformazione scelto nella chiamata, si definisce da Interfaccia la Rottura di riga per deposito. A questo punto  viene eseguita la chiamata per effettuare la trasformazione documento, indicando il numero registrazione di origine del documento (DDT) e lo specifico modello di trasformazione (che gestisce la rottura di riga per deposito) per generare le n fatture corrispondenti. Nella response saranno restituiti n numero registrazioni di destinazione relativi alle fatture generate e quindi per ogni deposito di riga gestito sul documento di origine."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n {\n {\n    "numRegDestination": [\n        "202400000494",\n        "202400000495"\n    ]\n}\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"trasformazione-documenti-n-a-n",children:"Trasformazione Documenti n a n"}),"\n",(0,t.jsx)(i.p,{children:"A fronte dell'inserimento di un ordine fornitore con:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"informazioni minimali obbligatorie di testata"}),"\n",(0,t.jsx)(i.li,{children:"due righe di tipo articolo, con codice articolo diverso e quantit\xe0\nViene poi eseguita la chiamata per effettuare la Trasformazione documenti in DDT, indicando il numero registrazione di origine ed il relativo modello di trasformazione, mentre nella response \xe8 recuperato il numero registrazione del DDT generato."}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Sono resi disponibili alcuni casi d'uso, a titolo di esempio, riportando il relativo body della chiamata:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Evasione totale di un documento, con il riporto del numero documento di origine sul documento di destinazione"}),":"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Per procedere con il riporto corretto del documento di origine sul documento di destinazione da generare, \xe8 necessario compilare il parametro DocumentTransformationProcessExtremLimitDTO ed impostare AcceptDocMode = 1."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "numRegOrigin": ["202400000288"],\n    "codModelTransfDoc": "{{TrasformazioneORD-DDT}}",\n    "processExtremLimits": {\n        "acceptDocMode": 1,\n        "destinationDocParams": {\n            "dataReg": "2024-10-14",\n            "dataDoc": "2024-10-14",\n            "dataCompVatMan": "2024-10-14",\n            "sezdoc": "00",\n            "numDoc": 101.0,\n            "numDocOrig": 19.0\n        }\n    }\n}\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"In contemporanea alla trasformazione documenti, \xe8 anche possibile procedere con l'applicazione di uno o pi\xf9 filtri, definiti in SearchDTO."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Evasione parziale di una o pi\xf9 righe documento, specificando solo il progrRiga del documento di origine"}),":"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Se si desidera effettuare l'evasione parziale di una o pi\xf9 righe documento, \xe8 necessario specificare anche i parametri aggiuntivi in DocumentTransformationPartialEvadContainerGeneralDataDTO per ogni numRegOrigin della request."}),"\n",(0,t.jsx)(i.p,{children:"Nota Bene:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"numRegOrigin  - obbligatorio (Numero di registrazione che si desidera trasformare)"}),"\n",(0,t.jsx)(i.li,{children:"progrRiga - obbligatorio (Progressivo riga corrispondente alla riga documento che si desidera trasformare)"}),"\n",(0,t.jsx)(i.li,{children:"qtaTransf - obbligatorio (La quantit\xe0 da riportare sul documento di destinazione)"}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "numRegOrigin": ["202400002619"],\n    "codModelTransfDoc": "1-FOR-ORDDDT",\n    "processExtremLimits": {\n        "acceptDocMode": 1,\n        "destinationDocParams": {\n            "dataReg": "2024-10-01T09:29:27.355Z",\n            "dataDoc": "2024-10-01T09:29:27.355Z",\n            "dataCompVatMan": "2024-10-01T09:29:27.355Z",\n            "sezdoc": "00",\n            "numDoc": 42,\n            "numDocOrig": 44\n        }\n    },\n    "documentTransformationPartialEvadContainerGeneralData": [\n        {\n            "numRegOrigin": "202400002619",\n            "documentTransformationGeneralData": [\n                {\n                    "progrRiga": 1,\n                    "qtaTransf": 2\n                },\n                {\n                    "progrRiga": 2,\n                    "qtaTransf": 4\n                }\n            ]\n        }\n    ]\n}  \n}\n'})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Evasione parziale di n documenti di origine, applicando anche un'eventuale variazione di prezzo e sconti a percentuale"}),":"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Nel caso in cui si desidera evadere l'ordine con un'eventuale variazione di prezzo o di sconto o di maggiorazione rispetto al documento di origine, si devono compilare gli opportuni parametri corrispondenti. Se si desidera mantenere le condizioni commerciali del documento di origine, i suddetti parametri non devono essere indicati nella request."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "numRegOrigin": [\n        "202400002730",\n        "202400002731"\n    ],\n    "codModelTransfDoc": "1-FOR-ORDDDT",\n    "processExtremLimits": {\n        "acceptDocMode": 1,\n        "destinationDocParams": {\n            "dataReg": "2024-10-14T09:29:27.355Z",\n            "dataDoc": "2024-10-14T09:29:27.355Z",\n            "dataCompVatMan": "2024-10-14T09:29:27.355Z",\n            "sezdoc": "00",\n            "numDoc": 104,\n            "numDocOrig": 96\n        }\n    },\n    "documentTransformationPartialEvadContainerGeneralData": [\n        {\n            "numRegOrigin": "202400002730",\n            "documentTransformationGeneralData": [\n                {\n                    "progrRiga": 1,\n                    "qtaTransf": 5,\n                    "price1": 300,\n                    "scper1": 2\n                },\n                {\n                    "progrRiga": 2,\n                    "qtaTransf": 3,\n                    "price1": 100,\n                    "scper1": 2.5\n                }\n            ]\n        },\n{\n            "numRegOrigin": "202400002731",\n            "documentTransformationGeneralData": [\n                {\n                    "progrRiga": 1,\n                    "qtaTransf": 2\n                },\n                {\n                    "progrRiga": 2,\n                    "qtaTransf": 4\n                }\n            ]\n        }\n    ]\n}\n}\n'})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Evasione totale di n documenti, applicando un filtro per codice articolo"}),":"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "numRegOrigin": [\n        "202400002401",\n        "202400002402"\n    ],\n    "codModelTransfDoc": "1-FOR-ORDDDT",\n    "processExtremLimits": {\n        "acceptDocMode": 1,\n        "destinationDocParams": {\n            "dataReg": "2024-10-04",\n            "dataDoc": "2024-10-04",\n            "dataCompVatMan": "2024-10-04",\n            "sezdoc": "00",\n            "numDoc": 102.0,\n            "numDocOrig": 76.0\n        }\n    },\n    "rowSearchTransformationCriteria": {\n        "filters": {\n            "items": [\n                {\n                    "operator": 0,\n                    "comparer": 0,\n                    "propertyName": "CodartMg66",\n                    "value": "{{Articolo1}}"\n                }\n            ]\n        }\n    }\n}\n}\n'})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:'Evasione parziale di un documento, evadendo parzialmente la prima riga e dichiarando la seconda riga come "Non pi\xf9 evadibile" per il residuo'}),":"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:'Se in fase di evasione parziale di un documento, si desidera dichiarare una riga documento come Non pi\xf9 evadibile, si deve impostare il parametro rowNotEvad a "true" per il progrRiga corrispondente.'}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "numRegOrigin": [\n        "202400002889"\n    ],\n    "codModelTransfDoc": "1-FOR-ORDDDT",\n    "documentTransformationPartialEvadContainerGeneralData": [\n        {\n            "numRegOrigin": "202400002889",\n            "documentTransformationGeneralData": [\n                {\n                    "progrRiga": 1,\n                    "indtiporiga": 0,\n                    "qtaTransf": 3.0\n                },\n                {\n                    "indtiporiga": 0,\n                    "progrRiga": 2,\n                    "qtaTransf": 4.0,\n                    "rowNotEvad": true\n                }\n            ]\n        }\n    ]\n}\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"inserimento-massivo-documenti",children:"Inserimento massivo documenti"}),"\n",(0,t.jsx)(i.p,{children:"Nell'esempio allegato viene presentato lo scenario di un verticale integrato per la gestione del magazzino che consente l'inserimento massivo di pi\xf9 documenti, ad esempio n. 3 documenti di tipo fattura immediata, composti da :"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"n. 8 righe di tipo articolo"}),"\n",(0,t.jsx)(i.li,{children:"n. 1 riga con articolo di tipo KIT"}),"\n",(0,t.jsx)(i.li,{children:"n. 1 riga con articolo manuale"}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["La response della chiamata di inserimento massivo documenti rilascer\xe0 un ",(0,t.jsx)(i.code,{children:"GuidSession"})," che pu\xf2 essere interrogato mediante ",(0,t.jsx)(i.code,{children:"Lookup"}),".\nEsistono due tipi di ",(0,t.jsx)(i.code,{children:"Lookup"}),":"]}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Dettaglio Analitico"}),": Restituisce una lista con dettaglio analitico relativo allo stato di avanzamento della elaborazione dell'inserimento massivo documenti."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Lista Strutturata"}),": Restituisce una lista strutturata per verificare lo stato di avanzamento della elaborazione massiva dell'inserimento documenti."]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["L'operazione di ",(0,t.jsx)(i.code,{children:"delete"})," consente di eliminare il set di elaborazioni per ",(0,t.jsx)(i.code,{children:"GuidSession"}),"."]}),"\n",(0,t.jsx)(i.p,{children:"Nell'ipotesi in cui, a seguito di Inserimento Massivo Documenti, alcuni di questi siano in stato di errore, \xe8 possibile, dopo aver individuato e corretto l'errore sul documento, utilizzare il servizio di riprocessamento. Questo servizio consente di procedere all'inserimento dei documenti corretti che erano andati in errore."}),"\n",(0,t.jsx)(i.h2,{id:"acquisizione-listini-dallesterno-servizio-ieimportli",children:"Acquisizione listini dall'esterno: Servizio IEImportLI"}),"\n",(0,t.jsx)(i.p,{children:"Il servizio IEImportLI permette di importare i listini messi a disposizione da terze parti e in formati diversi (formati supportati excel/csv), per cui tramite questo servizio \xe8 possibile importare un listino articolo per un fornitore specifico da un file esterno in modalit\xe0 sincrona o asincrona, utilizzando uno specifico tracciato di import."}),"\n",(0,t.jsx)(i.p,{children:"Per eseguire l'importazione listino da file esterno, si deve effettuare la seguente chiamata:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/LI/IEImportLI/pricelist?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.p,{children:"Il servizio recupera i parametri da ImportParameterDTO e restituisce nella response in ImportExportResultDTO il numero delle righe importate correttamente ed il numero di righe non importate con relativa segnalazione di errore ."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"ImportParameterDTO"})}),"\n",(0,t.jsx)(i.p,{children:"CodLayout - obbligatorio (Codice tracciato che si vuole utilizzare per eseguire l\u2019import)\nTypeSalePurchase - obbligatorio (Tipo di listino 0=Vendita 1=Acquisto)\nStreamFileImport \u2013 obbligatorio (File da importare in formato Base64)"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"ImportExportResultDTO"})}),"\n",(0,t.jsx)(i.p,{children:"guidSessione - guid dell'elaborazione\nstateProcess - stato dell'elaborazione\nidStateProcess - id corrispondente allo stato dell'elaborazione\nheadProcess:\nguidResult - guid del risultato dell\u2019importazione\ntotRowImpExp-  numero totale delle righe da importare\nimpExpWithErrors\nrowElab - righe oggetto dell\u2019importazione\ntypeResult - id corrispondente al risultato dell'importazione\ntypeResultDescription - information\ndescription - descrizione delle note di importazione e di eventuali errori"}),"\n",(0,t.jsx)(i.p,{children:"Inoltre sono disponibili le chiamate su entit\xe0 di base, necessarie per effettuare l'importazione listini fornitore: LayoutCO con dettaglio IELayoutCODTO per recuperare il codice tracciato da utilizzare, StructureType con dettaglio IEStructureTypeCODTO e StructureSubType con dettaglio IEStructureSubTypeCODTO che corrispondono al Tipo struttura e Sottotipo struttura legati al tracciato in uso."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/CO/IEStructureTypeCO/{{CodStructureType}}?company={{defaultCompany}}\nwebapi_base_url/api/v1/{{scope}}/CO/IEStructureSubTypeCO/{{CodStructureSubType}}?company={{defaultCompany}}\nwebapi_base_url/api/v1/{{scope}}/CO/IELayoutCO/{{CodLayout}}?company={{defaultCompany}}&CodStructureType={{CodStructureType}}\n"})}),"\n",(0,t.jsx)(i.p,{children:"Il servizio accetta solo i tracciati che hanno CodStructureType = 18 (Listino articoli) e CodStructureSubType = 4 (Listino clienti/fornitori)."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"Esempio"})}),"\n",(0,t.jsx)(i.p,{children:'L\'esempio riportato importa un listino fornitore da file esterno convertito in Base64 (indicato in "StreamFileImport"), in base al tracciato definito precedentemente su ERP ed impostando i parametri obbligatori.'}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "TypeSalePurchase" : "1",\n\xa0 \xa0 "CodLayout": "{{CodLayout}}",\n\xa0 \xa0 "StreamFileImport":\n}\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:"Durante l'importazione del listino fornitore, \xe8 anche possibile contemporaneamente:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:'creare nuovi articoli (presenti nel file e non presenti su ERP), impostando il parametro "insertNewItem": true, (il default \xe8 a false);'}),"\n",(0,t.jsx)(i.li,{children:'aggiornare articoli gi\xe0 esistenti, impostando il parametro "updateInsertPriceList": true (il default \xe8 a false);'}),"\n",(0,t.jsx)(i.li,{children:'forzare il periodo di validit\xe0 del listino rispetto a quello definito nel file, tramite i parametri "forceBeginDate" e "forceEndDate"'}),"\n",(0,t.jsx)(i.li,{children:'aggiornare un listino a parit\xe0 di periodo di validit\xe0, definendo il parametro "updatePriceList" : true;'}),"\n",(0,t.jsx)(i.li,{children:"forzare unit\xe0 di misura oppure il codice valuta oppure il codice cliente, rispetto al file esterno."}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Tale funzionalit\xe0 \xe8 gestibile definendo nel body della chiamata anche l'elemento parametro addParameters:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "addParameters": {\n\xa0 \xa0 \xa0 \xa0 "forceTypeInUseOrToExpect": "0",\n\xa0 \xa0 \xa0 \xa0 "insertNewItem": false,\n\xa0 \xa0 \xa0 \xa0 "updateExistingItem": false,\n\xa0 \xa0 \xa0 \xa0 "forceBeginDate": "1900-01-01T08:18:28.461Z",\n\xa0 \xa0 \xa0 \xa0 "forceEndDate": "2099-12-31T08:18:28.461Z",\n\xa0 \xa0 \xa0 \xa0 "dateUpdate": "2024-08-07T08:18:28.461Z",\n\xa0 \xa0 \xa0 \xa0 "updateInsertPriceList": true,\n\xa0 \xa0 \xa0 \xa0 "updatePriceList": false,\n\xa0 \xa0 \xa0 \xa0 "forceTypeUnitOfMeasure": "1",\n\xa0 \xa0 \xa0 \xa0 "forceCodCurrency": null,\n\xa0 \xa0 \xa0 \xa0 "forceCodCustomerSupplier": null\n\xa0 \xa0 },\n\xa0 \xa0 "isAsyncMode": false,\n\xa0 \xa0 "TypeSalePurchase" : "1",\n\xa0 \xa0 "CodLayout": "{{CodLayout}}",\n\xa0 \xa0 "StreamFileImport":\n}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Al termine dell'importazione, la response visualizza in ",(0,t.jsx)(i.strong,{children:"ImportExportResultDTO"})," il risultato dell'elaborazione, il numero delle righe importate e le segnalazioni di eventuali errori."]}),"\n",(0,t.jsxs)(i.p,{children:["L'import listino fornitore pu\xf2 essere eseguito anche in modalit\xe0 ",(0,t.jsx)(i.em,{children:"asincrona"}),", impostando tra i parametri obbligatori il parametro ",(0,t.jsx)(i.strong,{children:'"isAsyncMode" a true'}),"."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "TypeSalePurchase" : "1",\n\xa0 \xa0 "isAsyncMode": true,\n\xa0 \xa0 "CodLayout": "{{CodLayout}}",\n\xa0 \xa0 "StreamFileImport":\n\xa0}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["In questo caso la response visualizza la ",(0,t.jsx)(i.strong,{children:"guidSession"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "guidSession": "2718c758-7ec2-46a3-8f2a-57faaa0a5ac9",\n\xa0 \xa0 "stateProcess": "Inserted",\n\xa0 \xa0 "idStateProcess": 0,\n\xa0 \xa0 "headProcess": null\n}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["A questo punto per recuperare il risultato dell'elaborazione in ImportExportResultDTO \xe8 necessario utilizzare il servizio ",(0,t.jsx)(i.strong,{children:"IEServiceCO"})," eseguendo una chiamata di tipo GET :"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/CO/IEServiceCO/{{guidSession}}?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "guidSession": "2718c758-7ec2-46a3-8f2a-57faaa0a5ac9",\n\xa0 \xa0 "stateProcess": "Terminate",\n\xa0 \xa0 "idStateProcess": 2,\n\xa0 \xa0 "headProcess": {\n\xa0 \xa0 \xa0 \xa0 "guidResult": "4E175429D751488D985891CCCAFA92D8",\n\xa0 \xa0 \xa0 \xa0 "totRowImpExp": 7,\n\xa0 \xa0 \xa0 \xa0 "impExpWithErrors": false,\n\xa0 \xa0 \xa0 \xa0 "rowElab": [\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 {\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "typeResult": 1,\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "typeResultDescription": "Information",\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "description": "Importazione terminata.\\r\\nNumero di righe importate correttamente: 7 \\r\\nNumero di righe non importate: 0"\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 }\n\xa0 \xa0 \xa0 \xa0 ]\n\xa0 \xa0 }\n}\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"esportazione-e-importazione-clienti-o-fornitori-dallesterno-servizio-ieimportco-e-ieexportco",children:"Esportazione e Importazione clienti o fornitori dall'esterno: Servizio IEImportCO e IEExportCO"}),"\n",(0,t.jsx)(i.p,{children:"Il servizio IEExportCO permette di esportare i clienti o i fornitori da TSE, generando uno streamfile, mentre il servizio IEImportCO consente di importare i clienti o i fornitori tramite file messo a disposizione da terze parti. I formati supportati del file sono excel e csv.\nL'esportazione dei clienti e/o fornitori genera uno streamfile che pu\xf2 essere convertito in un file csv o excel.\nTramite i suddetti servizi \xe8 possibile esportare uno o pi\xf9 clienti e/o fornitor\xec oppure importarli da file, previa creazione di uno specifico tracciato definito su ERP e tramite specifici parametri, \xe8 possibile creare automaticamente le relative anagrafiche oppure aggiornarle se gi\xe0 esistenti."}),"\n",(0,t.jsx)(i.p,{children:'Il servizio pu\xf2 essere eseguito sia in modalit\xe0 sincrona sia asincrona, tramite il parametro "isAsyncMode".'}),"\n",(0,t.jsx)(i.h2,{id:"importazione-clientifornitori",children:"Importazione clienti/fornitori"}),"\n",(0,t.jsx)(i.p,{children:"Per eseguire l'importazione clienti/fornitori da file esterno, si deve effettuare la seguente chiamata:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/CO/IEImportCO/customersupplier?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.p,{children:"Il servizio recupera i parametri da ImportParameterDTO e restituisce nella response in ImportExportResultDTO il numero delle righe importate correttamente ed il numero di righe non importate con relativa segnalazione di errore ."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"ImportParameterDTO"})}),"\n",(0,t.jsx)(i.p,{children:"isAsyncMode - obbligatorio (modalit\xe0 di importazione - sincrona (true) o asincrona (false))\nCodLayout - obbligatorio (Codice tracciato che si vuole utilizzare per eseguire l\u2019import)\nStreamFileImport \u2013 obbligatorio (File da importare in formato Base64)"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"ImportExportResultDTO"})}),"\n",(0,t.jsx)(i.p,{children:"guidSessione - guid dell'elaborazione\nstateProcess - stato dell'elaborazione\nidStateProcess - id corrispondente allo stato dell'elaborazione\nheadProcess:\nguidResult - guid del risultato dell\u2019importazione\ntotRowImpExp-  numero totale delle righe da importare\nimpExpWithErrors\nrowElab - righe oggetto dell\u2019importazione\ntypeResult - id corrispondente al risultato dell'importazione\ntypeResultDescription - information\ndescription - descrizione delle note di importazione e di eventuali errori"}),"\n",(0,t.jsx)(i.p,{children:"Il servizio accetta solo i tracciati che hanno CodStructureType = 2 (Anagrafiche ClientiFornitori) e CodStructureSubType = 0.\nIl file, oggetto dell'importazione, deve essere convertito in formato Base64 per poter essere importato, tramite il servizio."}),"\n",(0,t.jsx)(i.p,{children:"Durante l'importazione dei clienti e/o fornitori, \xe8 anche possibile contemporaneamente:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:'creare nuovi clienti e/o fornitori (presenti nel file e non presenti su ERP), impostando il parametro "insertCustomerSupplier": true, (il default \xe8 a false);'}),"\n",(0,t.jsx)(i.li,{children:'aggiornare clienti e/o fornitori gi\xe0 esistenti, impostando il parametro "updateExistingCustomerSupplier": true (il default \xe8 a false);'}),"\n",(0,t.jsx)(i.li,{children:'definire la modalit\xe0 di importazione (come da ERP), tramite il parametro "typeImportModeCustomerSupplier" (il default \xe8 0 che corrisponde "Tutte le anagrafiche")'}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Tale funzionalit\xe0 \xe8 gestibile definendo nel body della chiamata anche l'elemento parametro addParameters:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n  "addParameters": {\n    "typeImportModeCustomerSupplier": "0",\n    "insertCustomerSupplier": true,\n    "updateExistingCustomerSupplier": true\n  },\n    "isAsyncMode": false,\n    "CodLayout": "{{CodLayout}",\n    "StreamFileImport": " "\n}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Al termine dell'importazione, la response visualizza in ",(0,t.jsx)(i.strong,{children:"ImportExportResultDTO"})," il risultato dell'elaborazione, il numero delle righe importate e le segnalazioni di eventuali errori."]}),"\n",(0,t.jsxs)(i.p,{children:["L'import clienti/fornitori pu\xf2 essere eseguito anche in modalit\xe0 ",(0,t.jsx)(i.em,{children:"asincrona"}),", impostando tra i parametri obbligatori il parametro ",(0,t.jsx)(i.strong,{children:'"isAsyncMode: true'}),"."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "isAsyncMode": true,\n\xa0 \xa0 "CodLayout": "{{CodLayout}}",\n\xa0 \xa0 "StreamFileImport":\n}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["In questo caso la response visualizza la ",(0,t.jsx)(i.strong,{children:"guidSession"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "guidSession": "2718c758-7ec2-46a3-8f2a-57faaa0a5ac9",\n\xa0 \xa0 "stateProcess": "Inserted",\n\xa0 \xa0 "idStateProcess": 0,\n\xa0 \xa0 "headProcess": null\n}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Per recuperare il risultato dell'elaborazione in ImportExportResultDTO \xe8 necessario utilizzare il servizio ",(0,t.jsx)(i.strong,{children:"IEServiceCO"})," eseguendo una chiamata di tipo GET ed indicando la guidSession della response precedente:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/CO/IEServiceCO/{{guidSession}}?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 \xa0 "guidSession": "2718c758-7ec2-46a3-8f2a-57faaa0a5ac9",\n\xa0 \xa0 "stateProcess": "Terminate",\n\xa0 \xa0 "idStateProcess": 2,\n\xa0 \xa0 "headProcess": {\n\xa0 \xa0 \xa0 \xa0 "guidResult": "4E175429D751488D985891CCCAFA92D8",\n\xa0 \xa0 \xa0 \xa0 "totRowImpExp": 7,\n\xa0 \xa0 \xa0 \xa0 "impExpWithErrors": false,\n\xa0 \xa0 \xa0 \xa0 "rowElab": [\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 {\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "typeResult": 1,\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "typeResultDescription": "Information",\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "description": "Importazione terminata.\\r\\nNumero di righe importate correttamente: 7 \\r\\nNumero di righe non importate: 0"\n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 }\n\xa0 \xa0 \xa0 \xa0 ]\n\xa0 \xa0 }\n}\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"esportazione-clientifornitori",children:"Esportazione clienti/fornitori"}),"\n",(0,t.jsx)(i.p,{children:"Per eseguire l'esportazione clienti/fornitori, generando uno Streamfile, si deve effettuare la seguente chiamata:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"webapi_base_url/api/v1/{{scope}}/CO/IEExportCO/customersupplier?company={{defaultCompany}}\n"})}),"\n",(0,t.jsx)(i.p,{children:"Nella body della request deve essere indicato il codice tracciato da utilizzare (precedentemente creato da interfaccia), si deve definire se si effettua l'esportazione in modalit\xe0 sincrona o asincrona ed \xe8 anche possibile definire eventuali parametri aggiuntivi, cos\xec come previsto da Interfaccia."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n\xa0 "addParameters": {\n\xa0 \xa0 "selectionValidityGeneralMasterData": "0",\n\xa0 \xa0 "referenceValidDate": "2024-11-11T08:18:28.461Z"\n\xa0 },\n\xa0 \xa0 "isAsyncMode": false,\n\xa0 \xa0 "CodLayout": "{{CodLayout}}"\n}\n}\n'})}),"\n",(0,t.jsx)(i.p,{children:'Con il parametro "selectionValidityGeneralMasterData" \xe8 possibile scegliere di esportare tutte le anagrafiche valide oppure solo quelle valide alla data di sistema oppure solo quelle valide da una data precisa che viene definita nel parametro successivo "referenceValidDate".'}),"\n",(0,t.jsx)(i.p,{children:"Nella body della response sono riportati eventuali messaggi di errore ed \xe8 generato lo streamfile in formato a 64bit, che dovr\xe0 essere convertito a cura dell'utente."}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Uso dei filtri"}),"\nCome da interfaccia, \xe8 possibile anche applicare dei filtri di estrazione, tramite la funzione Search.\nNell'esempio sotto riportato, si esportano tutte le anagrafiche valide e si utilizza come criterio di estrazione il 'tipocf' quindi si esportano tutte le anagrafiche di tipo fornitori."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",metastring:"showLineNumbers",children:'// body content\n{\n{\n    "addParameters": {\n        "selectionValidityGeneralMasterData": "1"\n    },\n    "isAsyncMode": false,\n    "CodLayout": "{{CodLayoutClifor}}",\n    "searchFilter": {\n        "filters": {\n            "operator": 0,\n            "items": [\n                {\n                    "operator": 0,\n                    "comparer": 0,\n                    "propertyName": "tipocf",\n                    "value": "1"\n                }\n            ]\n        }\n    }\n}\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"NOTA BENE"}),": Se l'utente desidera estrarre i dati secondo un criterio che non \xe8 gestito dalla Search, si ricorda che si pu\xf2 definire il criterio aggiuntivo nel tracciato in uso, tramite le 'Condizioni di import' in caso di importazione o le 'Condizioni di export' in caso di esportazione, si sceglie la Modalit\xe0 Avanzata e si specifica il criterio, tramite istruzione SQL."]}),"\n",(0,t.jsx)(i.p,{children:"Ad esempio, se si desidera esportare solo i clienti che appartengono al codice Area ITA e al codice Zona NOR, l'istruzione SQL \xe8:"}),"\n",(0,t.jsx)(i.p,{children:"[Codice_area] = 'ITA' AND [Codice_zona] = 'NOR'"}),"\n",(0,t.jsx)(i.p,{children:"In questo caso il tracciato deve prevedere tra i campi esportabili il codice area ed il codice zona."})]})}function p(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>s});var o=n(96540);const t={},a=o.createContext(t);function r(e){const i=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(a.Provider,{value:i},e.children)}}}]);